;按r前景色变红色
;按g前景色变绿色
;按b前景色变蓝色

;按R背景色变红色
;按G背景色变绿色
;按B背景色变蓝色
ASSUME CS:CODE

CODE SEGMENT
	START:
	MOV BX,0B800H
	MOV ES,BX
	
BEGIN:	
	MOV AH,0
	INT 16H

	;前景色三个颜色判断
	MOV AH,1
	CMP AL,'r'
	JE RED
	CMP AL,'g'
	JE GREEN
	CMP AL,'b'
	JE BLUE
	
	;背景色三个颜色判断
	CMP AL,'R'
	JE RED_BACK
	CMP AL,'G'
	JE GREEN_BACK
	CMP AL,'B'
	JE BLUE_BACK
	JMP SHORT BEGIN
	
	RED:
	SHL AH,1
	GREEN:
	SHL AH,1
	JMP SHORT BLUE
	
	RED_BACK:
	SHL AH,1
	GREEN_BACK:
	SHL AH,1
	JMP SHORT BLUE_BACK
	
	;前景色处理
	BLUE:
	MOV BX,1
	MOV CX,2000
	LOOPCOLOR:
		AND BYTE PTR ES:[BX],11111000B
		OR ES:[BX],AH
		ADD BX,2
	LOOP LOOPCOLOR
	JMP BEGIN
	
	;背景色处理
	BLUE_BACK:
	MOV BX,1
	MOV CL,4
	SHL AH,CL
	MOV CX,2000
	LOOPCOLOR_BACK:
		AND BYTE PTR ES:[BX],10001111B
		OR ES:[BX],AH
		ADD BX,2
	LOOP LOOPCOLOR_BACK
	JMP SHORT BEGIN
	
	COLORRET:
	MOV AX,4C00H
	INT 21H
CODE ENDS
END START