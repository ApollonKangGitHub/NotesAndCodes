mmap进程间通信注意事项：

①open权限、文件本身权限、mmap设置权限多种权限都可能导致出错。且要进行进程间通信必须以可读可写的方式打开。
②如果mmap的内存映射实现进程间通信需要写一次就刷新，否则写的进程写的内容可能在内核缓冲区，读的进程读的时候在缓冲区读到，就直接在内核缓冲区中读取，而去共享文件中读了。
③mmap的缺点：通信双方都可以写，数据可能会出错。
④创建的用于通信的文件应当是临时文件，采用ulink()进行设置：
mmap()-->close(fd)-->ulink(path)
创建文件open(O_CREAT)与删除文件unlink()一般都放在写的进程中。
⑤用于进程间通信的数据类型一般设置为结构体。
⑥如果文件大小为0，而映射大小不为0，会有总线错误。
----------------------------------------------------------------
习题：
用pipe实现本地聊天室。
思考为什么fork与pipe时，必须关掉不用的两个描述符。